{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\admin\\\\Downloads\\\\cchproject-main 2\\\\cchproject-main\\\\pages\\\\modal.js\";\nimport { useState, useEffect } from 'react';\nimport { useRouter } from 'next/router';\nimport MainLayout from \"../components/MainLayout\";\nimport Header from \"../components/main/Header\";\nimport Main from \"../components/main/Main\";\nimport \"../styles/Home.module.scss\";\nimport LoginModal from '../components/auth/LoginModal';\n\nconst Home = ({\n  data\n}) => {\n  const router = useRouter();\n  const {\n    cardsCollection: {\n      items: cards\n    }\n  } = data;\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const {\n    0: modalStat,\n    1: setModalStat\n  } = useState('');\n  const {\n    0: formRef,\n    1: setFormRef\n  } = useState(null);\n  const {\n    0: userEmail,\n    1: setUserEmail\n  } = useState('');\n\n  const openModal = (stat, ref, email) => {\n    setIsOpen(!isOpen);\n    setModalStat(stat);\n    if (ref) setFormRef(ref);\n    if (email) setUserEmail(email);\n  };\n\n  const toggleModal = () => {\n    setIsOpen(!isOpen);\n  };\n\n  return /*#__PURE__*/_jsxDEV(MainLayout, {\n    title: \"Cachy –  Personalized Musical Performance\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {\n      openModal: openModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Main, {\n      cards: cards,\n      openModal: openModal\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(LoginModal, {\n      openModal: toggleModal,\n      isOpen: isOpen,\n      modalStat: modalStat,\n      formRef: formRef,\n      userEmail: userEmail\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\nexport default Home;\nexport async function getStaticProps() {\n  const space = process.env.CONTENTFUL_SPACE_ID;\n  const accessToken = process.env.CONTENTFUL_ACCESS_TOKEN;\n  const res = await fetch(`https://graphql.contentful.com/content/v1/spaces/${space}`, {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${accessToken}`\n    },\n    body: JSON.stringify({\n      query: `{ \n          cardsCollection {\n            items {\n              id\n              title\n              genres\n              price\n              covers\n              poster {\n                title\n                fileName\n                url\n                width\n                height\n              }\n              flowplayerurl\n              mainImage {\n                title\n                fileName\n                url\n                width\n                height\n              }\n            } \n          }\n        }`\n    })\n  });\n  const data = await res.json();\n  return {\n    props: data\n  };\n}","map":{"version":3,"sources":["C:/Users/admin/Downloads/cchproject-main 2/cchproject-main/pages/modal.js"],"names":["useState","useEffect","useRouter","MainLayout","Header","Main","LoginModal","Home","data","router","cardsCollection","items","cards","isOpen","setIsOpen","modalStat","setModalStat","formRef","setFormRef","userEmail","setUserEmail","openModal","stat","ref","email","toggleModal","getStaticProps","space","process","env","CONTENTFUL_SPACE_ID","accessToken","CONTENTFUL_ACCESS_TOKEN","res","fetch","method","headers","Authorization","body","JSON","stringify","query","json","props"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useRouter } from 'next/router';\r\nimport MainLayout from \"../components/MainLayout\";\r\nimport Header from \"../components/main/Header\";\r\nimport Main from \"../components/main/Main\";\r\nimport \"../styles/Home.module.scss\";\r\nimport LoginModal from '../components/auth/LoginModal';\r\n\r\nconst Home = ({ data }) => {\r\n  const router = useRouter();\r\n  const { cardsCollection: { items: cards } } = data;\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [modalStat, setModalStat] = useState('');\r\n  const [formRef, setFormRef] = useState(null);\r\n  const [userEmail, setUserEmail] = useState('')\r\n\r\n  const openModal = (stat, ref, email) => {\r\n    setIsOpen(!isOpen);\r\n    setModalStat(stat);\r\n\r\n    if (ref) setFormRef(ref);\r\n    if (email) setUserEmail(email);\r\n  }\r\n\r\n  const toggleModal = () => {\r\n    setIsOpen(!isOpen);\r\n  }\r\n\r\n  return (\r\n    <MainLayout title={\"Cachy –  Personalized Musical Performance\"}>\r\n      <Header openModal={openModal} />\r\n      <Main cards={cards} openModal={openModal} />\r\n      <LoginModal openModal={toggleModal} isOpen={isOpen} modalStat={modalStat} formRef={formRef} userEmail={userEmail} />\r\n      {/* <FormModal modal={modal} toggle={toggle} /> */}\r\n    </MainLayout>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n\r\nexport async function getStaticProps() {\r\n  const space = process.env.CONTENTFUL_SPACE_ID;\r\n  const accessToken = process.env.CONTENTFUL_ACCESS_TOKEN;\r\n\r\n  const res = await fetch(\r\n    `https://graphql.contentful.com/content/v1/spaces/${space}`,\r\n    {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: `Bearer ${accessToken}`,\r\n      },\r\n      body: JSON.stringify({\r\n        query: `{ \r\n          cardsCollection {\r\n            items {\r\n              id\r\n              title\r\n              genres\r\n              price\r\n              covers\r\n              poster {\r\n                title\r\n                fileName\r\n                url\r\n                width\r\n                height\r\n              }\r\n              flowplayerurl\r\n              mainImage {\r\n                title\r\n                fileName\r\n                url\r\n                width\r\n                height\r\n              }\r\n            } \r\n          }\r\n        }`,\r\n      }),\r\n    }\r\n  )\r\n\r\n  const data = await res.json();\r\n\r\n  return {\r\n    props: data,\r\n  };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}